{"version":3,"file":"static/js/752.614f7fd1.chunk.js","mappings":"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","sources":["webpack://react-kabzda-1-js/./src/components/Profile/ProfileInfo/ProfileInfo.module.css?ead2","components/Profile/ProfileInfo/ProfileStatusWithHooks.jsx","components/Profile/ProfileInfo/ProfileDataForm.jsx","components/Profile/ProfileInfo/ProfileInfo.jsx","webpack://react-kabzda-1-js/./src/components/Profile/MyPosts/MyPosts.module.css?831b","webpack://react-kabzda-1-js/./src/components/Profile/MyPosts/Post/Post.module.css?87e6","components/Profile/MyPosts/Post/Post.jsx","components/Profile/MyPosts/MyPosts.jsx","components/Profile/MyPosts/MyPostsContainer.jsx","components/Profile/Profile.jsx","components/Profile/ProfileContainer.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"images\":\"ProfileInfo_images__snE5Y\",\"descriptionBlock\":\"ProfileInfo_descriptionBlock__XBXuJ\",\"mainPhoto\":\"ProfileInfo_mainPhoto__QU8TO\",\"contact\":\"ProfileInfo_contact__sQB8W\"};","import {useState, useEffect} from 'react';\n\n\nconst ProfileStatusWithHooks = (props) => {\n\n    let [editMode, setEditMode] = useState(false);\n    let [status, setStatus] = useState(props.status);\n\n    // Вторым параметром когда передаём пустой массив, мы говорим ему что бы он отрисовался всего один раз\n    // либо он будет запускаться каждый раз когда у тебя будет изменён props.status и у тебя зависимость уже\n    // не пустая.\n    // Если мы не передаём массив, то useEffect будет запускаться каждый раз после отрисовки компонента.\n    // Хуки запрещено писать в условиях, так же в циклах.\n    useEffect(() => {\n        setStatus(props.status);\n    }, [props.status]);\n\n    const activateEditMode = () => {\n        setEditMode(true);\n    }\n\n    const deactivateEditMode = () => {\n        setEditMode(false);\n        props.updateStatus(status);\n    }\n\n    const onStatusChange = (e) => {\n        setStatus(e.currentTarget.value) \n    }\n\n    return (\n        <div>\n            {!editMode &&\n                <div>\n                    <b>Status</b>: <span onDoubleClick={activateEditMode}>{props.status || \"-----\"}</span>\n                </div>\n            }\n            {editMode &&\n                <div>\n                    <input onChange={onStatusChange} autoFocus={true} onBlur={deactivateEditMode} value={status} />\n                </div>\n            }\n        </div>\n    )\n}\n\n\nexport default ProfileStatusWithHooks;\n","import s from './ProfileInfo.module.css';\nimport style from '../../Common/FormsControls/FormsControls.module.css';\nimport {reduxForm} from \"redux-form\";\nimport {createField, Textarea, Input} from '../../Common/FormsControls/FormsControls';\n\n\nconst ProfileDataForm = ({handleSubmit, profile, error}) => {\n    return <form onSubmit={handleSubmit}>\n        <div><button>save</button></div>\n        {error &&\n            <div className={style.formSummaryError}>\n                {error}\n            </div>\n        }\n        <div>\n            <b>Full name</b>: {createField(\"Full name\", {}, Input, \"fullName\", [])}\n        </div>\n        <div>\n            <b>Looking for a job</b>: {createField(\"\", {type: \"checkbox\"}, Input, \"lookingForAJob\", [])}\n        </div>\n        <div>\n            <b>My professional skills</b>: {createField(\"My professional skills\", {}, Textarea, \"lookingForAJobDescription\", [])}\n        </div>\n        <div>\n            <b>About me</b>: {createField(\"About me\", {}, Textarea, \"aboutMe\", [])}\n        </div>\n        <div>\n            <b>Contacts</b>: {Object.keys(profile.contacts).map(key => {\n                return <div key={key} className={s.contact}>\n                    <b>{key}: {createField(key, {}, Input, \"contacts.\" + key, [])}</b> \n                </div>\n            })}\n        </div>\n    </form>\n}\n\nconst ProfileDataFormReduxForm = reduxForm({form: 'edit-profile'})(ProfileDataForm)\n\n\nexport default ProfileDataFormReduxForm;\n","import {useState} from 'react';\nimport s from './ProfileInfo.module.css';\nimport Preloader from '../../Common/Preloader/Preloader';\nimport userPhoto from '../../../assets/images/user.jpeg';\n// import ProfileStatus from './ProfileStatus';\nimport ProfileStatusWithHooks from './ProfileStatusWithHooks';\nimport ProfileDataForm from './ProfileDataForm';\n\n\nconst ProfileInfo = ({profile, status, updateStatus, isOwner, savePhoto, saveProfile}) => {\n\n    let [editMode, setEditMode] = useState(false);\n\n    if (!profile) {\n        return (\n            <Preloader />\n        )\n    }\n    const onMainPhotoSelected = (e) => {\n        if (e.target.files.length) {\n            savePhoto(e.target.files[0]);\n        }\n    }\n\n    const onSubmit = (formData) => {\n        saveProfile(formData).then(() => {setEditMode(false)});\n    }\n\n    return (\n        <div>\n            {/* <div>\n                <img src=\"https://azovsky.ru/uploads/images/articles/plyazhi-yalty-5-n.jpg\" alt=\"\" className={s.images}/>\n            </div> */}\n            <div className={s.descriptionBlock}>\n                <img src={profile.photos.large != null ? profile.photos.large : userPhoto} alt=\"\" className={s.mainPhoto} />\n                {isOwner && <input type={\"file\"} onChange={onMainPhotoSelected} />}\n\n\n                {editMode \n                    ? <ProfileDataForm initialValues={profile} profile={profile} onSubmit={onSubmit} /> \n                    : <ProfileData goToEditMode={() => {setEditMode(true)}} profile={profile} isOwner={isOwner} />\n                }  \n\n                {/* <ProfileStatus status={props.status} updateStatus={props.updateStatus} /> */}\n                <ProfileStatusWithHooks status={status} updateStatus={updateStatus} />\n            </div>\n        </div>\n    )\n}\n\nconst ProfileData = ({profile, isOwner, goToEditMode}) => {\n    return <div>\n        {isOwner && <div><button onClick={goToEditMode}>edit</button></div>}\n        <div>\n            <b>Full name</b>: {profile.fullName}\n        </div>\n        <div>\n            <b>Looking for a job</b>: {profile.lookingForAJob ? \"yes\" : \"no\"}\n        </div>\n        {profile.lookingForAJob &&\n            <div>\n                <b>My professional skills</b>: {profile.lookingForAJobDescription}\n            </div>\n        }\n        <div>\n            <b>About me</b>: {profile.aboutMe}\n        </div>\n        <div>\n            {/* Object.keys нужен для того что бы мы могли проитерироваться по обьекту */}\n            <b>Contacts</b>: {Object.keys(profile.contacts).map(key => {\n                return <Contact contactTitle={key} contactValue={profile.contacts[key]} key={key} />\n            })}\n        </div>\n    </div>\n}\n\nconst Contact = ({contactTitle, contactValue}) => {\n    return <div className={s.contact}><b>{contactTitle}</b>: {contactValue}</div>\n}\n\n\nexport default ProfileInfo;\n","// extracted by mini-css-extract-plugin\nexport default {\"postsBlock\":\"MyPosts_postsBlock__lB-pf\",\"posts\":\"MyPosts_posts__GSiZ2\"};","// extracted by mini-css-extract-plugin\nexport default {\"item\":\"Post_item__Yu4oG\"};","import s from './Post.module.css';\n\n\nconst Post = (props) => {\n    return (\n        <div className={s.item}>\n            <img src=\"https://cdn.wionews.com/sites/default/files/2018/09/12/20463-web%25252520default%25252520%2525283%252529-20170328074902.png\" alt=\"\"/>\n            {props.message}\n            <div>\n                <span>like</span> {props.likesCount}\n            </div>\n        </div>\n    )\n}\n\n\nexport default Post;\n","import React from 'react';\nimport {Field, reduxForm} from \"redux-form\";\nimport s from './MyPosts.module.css';\nimport Post from \"./Post/Post\";\nimport {required, maxLengthCreator} from \"../../../utils/validators/validators\";\nimport {Textarea} from \"../../Common/FormsControls/FormsControls\";\n\n\nconst maxLength = maxLengthCreator(10);\n\nconst AddNewPostForm = (props) => {\n    return (\n        <form onSubmit={props.handleSubmit}>\n            <div>\n                {/* Созданная ссылка на 10 строчке ссылается на тебя и с помощью ref мы стучимся напрямую к DOM элементу а нужно к Virtual DOM */}\n                {/* <textarea onChange={onPostChange} ref={newPostElement} value={props.newPostText} /> */}\n                <Field placeholder={\"Post message\"} \n                    //    component={\"textarea\"}\n                       component={Textarea} \n                       name={\"newPostText\"}\n                       validate={[required, maxLength]} \n                /> \n            </div>\n            <div>\n                {/* <button onClick={onAddPost}>Add post</button> */}\n                <button>Add post</button>\n            </div>\n        </form>\n    )\n}\n\nconst AddNewPostFormRedux = reduxForm({form: 'profileAddNewPostForm'})(AddNewPostForm)\n\n// React.memo тоже самое что и в классовых компонентах метод жизненного цикла shouldComponentUpdate.\nconst MyPosts = React.memo((props) => {\n\n    // console.log('MyPosts');\n\n    let postsElements = \n        [...props.posts]\n            .reverse()\n            .map(p => <Post message={p.message} likesCount={p.likesCount} key={p.id} />);\n\n    let newPostElement = React.createRef();  // Создаём ссылку на какой то элемент\n\n    // let onAddPost = () => {\n    //     props.addPost();\n    // };\n\n    // let onPostChange = () => {\n    //     let text = newPostElement.current.value;  // current ссылается на нативный html элемент, и у этого элемента мы берём значение\n    //     props.updateNewPostText(text);\n    // };\n\n    let onAddPost = (values) => {\n        props.addPost(values.newPostText);\n    };\n\n    return (\n        <div className={s.postsBlock}>\n            <h3>My posts</h3>\n            <AddNewPostFormRedux onSubmit={onAddPost} />\n            <div className={s.posts}>\n                { postsElements }\n            </div>\n        </div>\n    )\n});\n\n// class MyPosts extends React.Component {\n\n//     // Метод жизненного цикла(shouldComponentUpdate) с помощью которого рякт спрашивает у компоненты,\n//     // нужно ли тебя компоненту перерисовать, перерендерить.\n//     // class MyPosts extends React.PureComponent {} это пюр компонент такой же компонент с тем же \n//     // самым методом жизненного цикла shouldComponentUpdate, только этот метод уже сидит там внутри \n//     // этого компонента и не нужно его обьявлять самому.\n//     shouldComponentUpdate(nextProps, nextState) {\n//         return nextProps !== this.props || nextState !== this.state;\n//     }\n\n//     render() {\n//         console.log('MyPosts');\n//         let postsElements = this.props.posts.map(p => <Post message={p.message} likesCount={p.likesCount} key={p.id} />);\n\n//         let newPostElement = React.createRef();\n\n//         let onAddPost = (values) => {\n//             this.props.addPost(values.newPostText);\n//         };\n\n//         return (\n//             <div className={s.postsBlock}>\n//                 <h3>My posts</h3>\n//                 <AddNewPostFormRedux onSubmit={onAddPost} />\n//                 <div className={s.posts}>\n//                     { postsElements }\n//                 </div>\n//             </div>\n//         )\n\n//     }\n// }\n\n\nexport default MyPosts;\n","import {connect} from \"react-redux\";\n// import StoreContext from \"../../../StoreContext\";\nimport MyPosts from \"./MyPosts\";\nimport {addPostActionCreator, updateNewPostTextActionCreator} from \"../../../redux/profile-reducer\";\n\n\n// const MyPostsContainer = () => {\n//     return (\n//         <StoreContext.Consumer>\n//             { (store) => {\n\n//                 let state = store.getState();\n\n//                 let addPost = () => {\n//                     store.dispatch(addPostActionCreator());\n//                 };\n\n//                 let onPostChange = (text) => {\n//                     let action = updateNewPostTextActionCreator(text);\n//                     store.dispatch(action);\n//                 };\n\n//                 return (\n//                     <MyPosts addPost={addPost}\n//                              updateNewPostText={onPostChange}\n//                              posts={state.profilePage.posts}\n//                              newPostText={state.profilePage.newPostText}\n//                     />\n//                 )\n//             } }\n//         </StoreContext.Consumer>\n//     )\n// }\n\nlet mapStateToProps = (state) => {\n    return {\n        posts: state.profilePage.posts,\n        // newPostText: state.profilePage.newPostText\n    }\n};\n\nlet mapDispatchToProps = (dispatch) => {\n    return {\n        addPost: (newPostText) => {\n            dispatch(addPostActionCreator(newPostText));\n        },\n        // updateNewPostText: (text) => {\n        //     let action = updateNewPostTextActionCreator(text);\n        //     dispatch(action);\n        // }\n    }\n};\n\nconst MyPostsContainer = connect(mapStateToProps, mapDispatchToProps) (MyPosts);\n\n\nexport default MyPostsContainer;\n","import ProfileInfo from \"./ProfileInfo/ProfileInfo\";\nimport MyPostsContainer from \"./MyPosts/MyPostsContainer\";\n\n\nconst Profile = (props) => {\n    return (\n        <div>\n            <ProfileInfo savePhoto={props.savePhoto}\n                        saveProfile={props.saveProfile}\n                        isOwner={props.isOwner}\n                        profile={props.profile}\n                        status={props.status}\n                        updateStatus={props.updateStatus} \n            />\n            <MyPostsContainer />\n        </div>\n    )\n}\n\n\nexport default Profile;\n","import React from 'react';\nimport {compose} from \"redux\";\nimport {useLocation, useNavigate, useParams} from \"react-router-dom\";\nimport {connect} from 'react-redux';\nimport Profile from './Profile';\nimport {getUserProfile, getStatus, updateStatus, savePhoto, saveProfile} from '../../redux/profile-reducer';\nimport {withAuthRedirect} from '../../hoc/withAuthRedirect';\n\n\nclass ProfileContainer extends React.Component {\n\n    refreshProfile() {\n        let userId = this.props.router.params.userId;\n        if (!userId) {\n            userId = this.props.authorizedUserId;\n            if (!userId) {\n            \n            }\n        }\n        this.props.getUserProfile(userId);\n        this.props.getStatus(userId);\n    }\n\n    componentDidMount() {\n        // let userId = this.props.router.params.userId;\n        // if (!userId) {\n        //     // userId = 2;\n        //     // userId = 27124;\n        //     userId = this.props.authorizedUserId;\n        //     if (!userId) {\n        //         // // редирект на login, но лучше не использовать этот метод, потому что мы вмешиваемся\n        //         // // в жизненный цикл компоненты и поэтому редиректы лучше делать через render,\n        //         // // jsx-ом редирект делать\n        //         // this.props.history.push(\"/login\");\n        //     }\n        // }\n        // this.props.getUserProfile(userId);\n        // this.props.getStatus(userId);\n        this.refreshProfile();\n    }\n\n    componentDidUpdate(prevProps, prevState) {\n        if (this.props.router.params.userId !== prevProps.router.params.userId) {\n            this.refreshProfile();\n        }\n    }\n    \n    render() {\n        // console.log('RENDER PROFILE')\n        return (\n            <div>\n                <Profile {...this.props}\n                        isOwner={!this.props.router.params.userId} \n                        profile={this.props.profile}\n                        status={this.props.status}\n                        updateStatus={this.props.updateStatus}\n                        savePhoto={this.props.savePhoto}\n                />\n            </div>\n        )\n    };\n};\n\nlet mapStateToProps = (state) => {\n    // console.log('mapStateToProps PROFILE')\n    return ({\n        profile: state.profilePage.profile,\n        status: state.profilePage.status,\n        authorizedUserId: state.auth.userId,\n        isAuth: state.auth.isAuth\n    })\n};\n\n// let AuthRedirectComponent = withAuthRedirect(ProfileContainer);\n\nfunction withRouter(Component) {\n    function ComponentWithRouterProp(props) {\n        let location = useLocation();\n        let navigate = useNavigate();\n        let params = useParams();\n        return (\n            <Component {...props} router={{ location, navigate, params }} />\n        );\n    }\n\n    return ComponentWithRouterProp;\n}\n\n// let WithUrlDataContainerComponent = withRouter(AuthRedirectComponent);\n\n// compose(\n//     connect(mapStateToProps, {getUserProfile}),\n//     withRouter,\n//     withAuthRedirect\n// )(ProfileContainer);\n\n\nexport default compose(\n    connect(mapStateToProps, {getUserProfile, getStatus, updateStatus, savePhoto, saveProfile}),\n    withRouter,\n    // withAuthRedirect\n)(ProfileContainer);\n"],"names":["props","useState","editMode","setEditMode","status","setStatus","useEffect","onDoubleClick","onChange","e","currentTarget","value","autoFocus","onBlur","updateStatus","reduxForm","form","handleSubmit","profile","error","onSubmit","className","style","createField","Input","type","Textarea","Object","keys","contacts","map","key","s","ProfileData","isOwner","goToEditMode","onClick","fullName","lookingForAJob","lookingForAJobDescription","aboutMe","Contact","contactTitle","contactValue","savePhoto","saveProfile","Preloader","src","photos","large","userPhoto","alt","target","files","length","initialValues","formData","then","message","likesCount","maxLength","maxLengthCreator","AddNewPostFormRedux","Field","placeholder","component","name","validate","required","React","postsElements","posts","reverse","p","id","values","addPost","newPostText","connect","state","profilePage","dispatch","addPostActionCreator","MyPosts","ProfileContainer","userId","this","router","params","authorizedUserId","getUserProfile","getStatus","refreshProfile","prevProps","prevState","compose","auth","isAuth","Component","location","useLocation","navigate","useNavigate","useParams"],"sourceRoot":""}